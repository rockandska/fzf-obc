current_sort_opts+=" -t $'\t' -k2"
current_fzf_opts+=" +1"
IFS= read -r -d '' current_fzf_preview_file <<-'EOF'
	printf -v path '%b' {}
	path=\"${path:3}\"
	if [[ \"$path\" =~ \\\"*\\\" ]];then
		path=$(printf '%s' \"$path\" | sed -z 's/.* \-> \\\"/\"/')
		path=\"${path#\\\"}\"
		path=\"${path%\\\"}\"
		path=$(printf '%s' \"$path\" | sed -z 's/\\\\\"/\"/')
	else
		path=$(printf '%s' \"$path\" | sed -z 's/.* \-> //')
	fi
	printf -v path '%q' \"$path\"
	if ! eval git ls-files --error-unmatch \"$path\" &> /dev/null;then
		if [[ -d \"$path\" ]];then
			eval git ls-files -z -o --exclude-standard \"$path\" | xargs -0 -I% git diff --color=always -- /dev/null %
		else
			eval git diff --color=always -- /dev/null \"$path\"
		fi
	else
		eval git diff  --color=always -- \"$path\"
	fi
EOF
